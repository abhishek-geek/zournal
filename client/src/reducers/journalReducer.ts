import { Journal } from "../types";
import { AppDispatch } from "./store";

interface Action1 {
  type: "ADD_JOURNAL";
  data: Journal;
}
interface Action2 {
  type: "INIT_JOURNAL";
  data: Journal[];
}
type Action = Action1 | Action2;
const d = new Date();

const initialState = [
  {
    id: 1,
    date: new Date(2018, 11, 24, 10, 33, 30, 0),
    content: "This is content of this journal",
  },

  {
    id: Number(d.getTime()),
    date: new Date(2014, 10, 14),
    content: "1",
  },
  {
    id: Number(d.getTime()) + 1,
    date: d,
    content:
      "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti quis distinctio assumenda ad debitis fugiat nemo, laboriosam doloribus adipisci ducimus dolore vel quae aliquid odio deserunt, quos ab illum magni.",
  },
];

const reducer = (state = initialState, action: Action): Journal[] => {
  switch (action.type) {
    case "ADD_JOURNAL": {
      // console.log("initial state", state);
      // console.log("incomming entry", action.data);
      let newState = state.concat(action.data);
      // console.log("state after concat", state);
      newState = newState.sort((a, b) => +b.date - +a.date);
      // console.log("newState", newState);
      return newState;
    }

    case "INIT_JOURNAL": {
      const newState = action.data.sort((a, b) => +b.date - +a.date);
      return newState;
    }
    default: {
      const newState = state.sort((a, b) => +b.date - +a.date);
      return newState;
    }
  }
};

export const addJournal = (content: Journal) => {
  // console.log(content);

  return async (dispatch: AppDispatch) => {
    // const anecdote = await anecService.create(content);
    // console.log("inside return fn");

    dispatch({
      type: "ADD_JOURNAL",
      data: content,
    });
  };
};

export const initJournal = (anecdotes: Journal[]) => {
  return async (dispatch: AppDispatch) => {
    // const anecdotes = await anecService.getAll();
    dispatch({
      type: "INIT_JOURNAL",
      data: anecdotes,
    });
  };
};

export default reducer;
